import langid


class Tokenizer:
    def __init__(self) -> None:
        pass

# ------------------------ Space ----------------------------------------
    @staticmethod  
    def _encode_space(text: str):
        space_text = ' '.join(char for char in list(text))            
        return space_text
    
    @staticmethod
    def _decode_space(space_text: str):
        text = ''.join(char for char in list(space_text))            
        return text

# ------------------------ Unicode ----------------------------------------
    @staticmethod  
    def _encode_unicode(text: str):
        lang, _ = langid.classify(text.lower())
        unicode_text = None
        if lang == 'en':
            unicode_text = ''.join(f'\\u{ord(char):04x}' for char in text)
        else:
            unicode_text = text.encode('unicode_escape').decode('ascii')            
        return unicode_text
    
    @staticmethod
    def _decode_unicode(unicode_text: str):
        return unicode_text.encode('ascii').decode('unicode_escape')

# ------------------------ Circled ----------------------------------------
    @staticmethod
    def _encode_circled(text: str) -> str:
        """Ğ¤ÑƒĞ½ĞºÑ†Ğ¸Ñ Ğ´Ğ»Ñ Ğ¿Ñ€ĞµĞ¾Ğ±Ñ€Ğ°Ğ·Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ ÑĞ¸Ğ¼Ğ²Ğ¾Ğ»Ğ¾Ğ² Ğ² ĞºÑ€ÑƒĞ¶ĞºĞ¾Ğ²Ñ‹Ğµ Ğ²ĞµÑ€ÑĞ¸Ğ¸"""
        latin_map = {
            'a': 'ğŸ…', 'b': 'ğŸ…‘', 'c': 'ğŸ…’', 'd': 'ğŸ…“', 'e': 'ğŸ…”',
            'f': 'ğŸ…•', 'g': 'ğŸ…–', 'h': 'ğŸ…—', 'i': 'ğŸ…˜', 'j': 'ğŸ…™',
            'k': 'ğŸ…š', 'l': 'ğŸ…›', 'm': 'ğŸ…œ', 'n': 'ğŸ…', 'o': 'ğŸ…',
            'p': 'ğŸ…Ÿ', 'q': 'ğŸ… ', 'r': 'ğŸ…¡', 's': 'ğŸ…¢', 't': 'ğŸ…£',
            'u': 'ğŸ…¤', 'v': 'ğŸ…¥', 'w': 'ğŸ…¦', 'x': 'ğŸ…§', 'y': 'ğŸ…¨',
            'z': 'ğŸ…©',
            'A': 'ğŸ…', 'B': 'ğŸ…‘', 'C': 'ğŸ…’', 'D': 'ğŸ…“', 'E': 'ğŸ…”',
            'F': 'ğŸ…•', 'G': 'ğŸ…–', 'H': 'ğŸ…—', 'I': 'ğŸ…˜', 'J': 'ğŸ…™',
            'K': 'ğŸ…š', 'L': 'ğŸ…›', 'M': 'ğŸ…œ', 'N': 'ğŸ…', 'O': 'ğŸ…',
            'P': 'ğŸ…Ÿ', 'Q': 'ğŸ… ', 'R': 'ğŸ…¡', 'S': 'ğŸ…¢', 'T': 'ğŸ…£',
            'U': 'ğŸ…¤', 'V': 'ğŸ…¥', 'W': 'ğŸ…¦', 'X': 'ğŸ…§', 'Y': 'ğŸ…¨',
            'Z': 'ğŸ…©'
        }

        cyrillic_map = {
            'Ğ°': 'â“', 'Ğ±': 'â“‘', 'Ğ²': 'â“’', 'Ğ³': 'â“–', 'Ğ´': 'â““',
            'Ğµ': 'â“”', 'Ñ‘': 'â“”', 'Ğ¶': 'â“™', 'Ğ·': 'â“©', 'Ğ¸': 'â“˜',
            'Ğ¹': 'â“˜', 'Ğº': 'â“š', 'Ğ»': 'â“›', 'Ğ¼': 'â“œ', 'Ğ½': 'â“',
            'Ğ¾': 'â“', 'Ğ¿': 'â“Ÿ', 'Ñ€': 'â“¡', 'Ñ': 'â“’', 'Ñ‚': 'â“£',
            'Ñƒ': 'â“¤', 'Ñ„': 'â“•', 'Ñ…': 'â“§', 'Ñ†': 'â“’', 'Ñ‡': 'â“—',
            'Ñˆ': 'â“¢', 'Ñ‰': 'â“¢', 'ÑŠ': 'â“ ', 'Ñ‹': 'â“¨', 'ÑŒ': 'â“‘',
            'Ñ': 'â“”', 'Ñ': 'â“¤', 'Ñ': 'â“',
            'Ğ': 'â’¶', 'Ğ‘': 'â’·', 'Ğ’': 'â’¸', 'Ğ“': 'â’¼', 'Ğ”': 'â’¹',
            'Ğ•': 'â’º', 'Ğ': 'â’º', 'Ğ–': 'â’¿', 'Ğ—': 'â“', 'Ğ˜': 'â’¾',
            'Ğ™': 'â’¾', 'Ğš': 'â“€', 'Ğ›': 'â“', 'Ğœ': 'â“‚', 'Ğ': 'â“ƒ',
            'Ğ': 'â“„', 'ĞŸ': 'â“…', 'Ğ ': 'â“‡', 'Ğ¡': 'â’¸', 'Ğ¢': 'â“‰',
            'Ğ£': 'â“Š', 'Ğ¤': 'â’»', 'Ğ¥': 'â“', 'Ğ¦': 'â’¸', 'Ğ§': 'â’½',
            'Ğ¨': 'â“ˆ', 'Ğ©': 'â“ˆ', 'Ğª': 'â“†', 'Ğ«': 'â“', 'Ğ¬': 'â’·',
            'Ğ­': 'â’º', 'Ğ®': 'â“Š', 'Ğ¯': 'â’¶'
        }

        return ''.join([
            latin_map.get(c, cyrillic_map.get(c, c)) 
            for c in str(text)
        ])

    @staticmethod
    def _decode_circled(text: str) -> str:
        """Ğ¤ÑƒĞ½ĞºÑ†Ğ¸Ñ Ğ´Ğ»Ñ Ğ¿Ñ€ĞµĞ¾Ğ±Ñ€Ğ°Ğ·Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ ĞºÑ€ÑƒĞ¶ĞºĞ¾Ğ²Ñ‹Ñ… ÑĞ¸Ğ¼Ğ²Ğ¾Ğ»Ğ¾Ğ² Ğ¾Ğ±Ñ€Ğ°Ñ‚Ğ½Ğ¾ Ğ² Ğ¾Ğ±Ñ‹Ñ‡Ğ½Ñ‹Ğµ"""
        reversed_latin_map = {
            'ğŸ…': 'a', 'ğŸ…‘': 'b', 'ğŸ…’': 'c', 'ğŸ…“': 'd', 'ğŸ…”': 'e',
            'ğŸ…•': 'f', 'ğŸ…–': 'g', 'ğŸ…—': 'h', 'ğŸ…˜': 'i', 'ğŸ…™': 'j',
            'ğŸ…š': 'k', 'ğŸ…›': 'l', 'ğŸ…œ': 'm', 'ğŸ…': 'n', 'ğŸ…': 'o',
            'ğŸ…Ÿ': 'p', 'ğŸ… ': 'q', 'ğŸ…¡': 'r', 'ğŸ…¢': 's', 'ğŸ…£': 't',
            'ğŸ…¤': 'u', 'ğŸ…¥': 'v', 'ğŸ…¦': 'w', 'ğŸ…§': 'x', 'ğŸ…¨': 'y',
            'ğŸ…©': 'z'
        }

        reversed_cyrillic_map = {
            'â“': 'Ğ°', 'â“‘': 'Ğ±', 'â“’': 'Ğ²', 'â“–': 'Ğ³', 'â““': 'Ğ´',
            'â“”': 'Ğµ', 'â“™': 'Ğ¶', 'â“©': 'Ğ·', 'â“˜': 'Ğ¸',
            'â“š': 'Ğº', 'â“›': 'Ğ»', 'â“œ': 'Ğ¼', 'â“': 'Ğ½',
            'â“': 'Ğ¾', 'â“Ÿ': 'Ğ¿', 'â“¡': 'Ñ€', 'â“£': 'Ñ‚',
            'â“¤': 'Ñƒ', 'â“•': 'Ñ„', 'â“§': 'Ñ…', 'â“—': 'Ñ‡',
            'â“¢': 'Ñˆ', 'â“ ': 'ÑŠ', 'â“¨': 'Ñ‹', 'â“‘': 'ÑŒ',
            'â“Š': 'Ñ',
            'â’¶': 'Ğ', 'â’·': 'Ğ‘', 'â’¸': 'Ğ’', 'â’¼': 'Ğ“',
            'â’¹': 'Ğ”', 'â’º': 'Ğ•', 'â’¿': 'Ğ–', 'â“': 'Ğ—',
            'â’¾': 'Ğ˜', 'â“€': 'Ğš', 'â“': 'Ğ›', 'â“‚': 'Ğœ',
            'â“ƒ': 'Ğ', 'â“„': 'Ğ', 'â“…': 'ĞŸ', 'â“‡': 'Ğ ',
            'â“‰': 'Ğ¢', 'â“Š': 'Ğ£', 'â’»': 'Ğ¤', 'â“': 'Ğ¥',
            'â’½': 'Ğ§', 'â“ˆ': 'Ğ¨', 'â“†': 'Ğª', 'â“': 'Ğ«',
            'â’·': 'Ğ¬', 'â“Š': 'Ğ®', 'â’¶': 'Ğ¯'
        }

        reversed_map = {**reversed_latin_map, **reversed_cyrillic_map}
        
        return ''.join([
            reversed_map.get(c, c)
            for c in text
        ])
